"use strict";(globalThis.webpackChunkbasaltpass_docs=globalThis.webpackChunkbasaltpass_docs||[]).push([[1347],{5046(e,n,t){t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"integration/troubleshooting","title":"Troubleshooting Integration","description":"Common issues encountered when integrating with BasaltPass and how to solve them.","source":"@site/i18n/zh-Hans/docusaurus-plugin-content-docs/current/integration/troubleshooting.md","sourceDirName":"integration","slug":"/integration/troubleshooting","permalink":"/BasaltPass/zh-Hans/docs/integration/troubleshooting","draft":false,"unlisted":false,"editUrl":"https://github.com/your-org/BasaltPass/tree/main/basaltpass-docs/docs/integration/troubleshooting.md","tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"sidebar_position":7},"sidebar":"tutorialSidebar","previous":{"title":"Token Validation","permalink":"/BasaltPass/zh-Hans/docs/integration/token-validation"},"next":{"title":"CORS Configuration","permalink":"/BasaltPass/zh-Hans/docs/integration/cors-configuration"}}');var o=t(4848),r=t(8453);const s={sidebar_position:7},a="Troubleshooting Integration",c={},d=[{value:"1. Redirect URI Mismatch",id:"1-redirect-uri-mismatch",level:2},{value:"2. PKCE Verification Failed",id:"2-pkce-verification-failed",level:2},{value:"3. CORS Error in Browser",id:"3-cors-error-in-browser",level:2},{value:"4. Invalid Scope",id:"4-invalid-scope",level:2}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",strong:"strong",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"troubleshooting-integration",children:"Troubleshooting Integration"})}),"\n",(0,o.jsx)(n.p,{children:"Common issues encountered when integrating with BasaltPass and how to solve them."}),"\n",(0,o.jsx)(n.h2,{id:"1-redirect-uri-mismatch",children:"1. Redirect URI Mismatch"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Error"}),": ",(0,o.jsx)(n.code,{children:"invalid_grant"})," or redirection fails.\n",(0,o.jsx)(n.strong,{children:"Cause"}),": The ",(0,o.jsx)(n.code,{children:"redirect_uri"})," sent in the ",(0,o.jsx)(n.code,{children:"authorize"})," request does NOT exactly match one registered in the console.\n",(0,o.jsx)(n.strong,{children:"Fix"}),": Ensure protocols (",(0,o.jsx)(n.code,{children:"http"})," vs ",(0,o.jsx)(n.code,{children:"https"}),"), ports, and trailing slashes match exactly."]}),"\n",(0,o.jsx)(n.h2,{id:"2-pkce-verification-failed",children:"2. PKCE Verification Failed"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Error"}),": ",(0,o.jsx)(n.code,{children:"invalid_grant"})," during token exchange.\n",(0,o.jsx)(n.strong,{children:"Cause"}),": Sending Base64Url encoded challenge instead of Hex encoded.\n",(0,o.jsx)(n.strong,{children:"Fix"}),": See ",(0,o.jsx)(n.a,{href:"/BasaltPass/zh-Hans/docs/integration/pkce-flow",children:"PKCE Flow Implementation"})," for the correct Hex encoding algorithm."]}),"\n",(0,o.jsx)(n.h2,{id:"3-cors-error-in-browser",children:"3. CORS Error in Browser"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Error"}),": Login page or token endpoint blocked by CORS policy.\n",(0,o.jsx)(n.strong,{children:"Cause"}),": Your frontend origin is not whitelisted.\n",(0,o.jsx)(n.strong,{children:"Fix"}),": Add your domain (e.g., ",(0,o.jsx)(n.code,{children:"http://localhost:3000"}),") to the ",(0,o.jsx)(n.strong,{children:"Allowed Origins"})," list in the Client configuration."]}),"\n",(0,o.jsx)(n.h2,{id:"4-invalid-scope",children:"4. Invalid Scope"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Error"}),": ",(0,o.jsx)(n.code,{children:"invalid_scope"}),".\n",(0,o.jsx)(n.strong,{children:"Cause"}),": Requesting a scope that the client is not authorized for.\n",(0,o.jsx)(n.strong,{children:"Fix"}),": Check the client settings in the Admin Console and ensure the requested scopes are enabled."]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},8453(e,n,t){t.d(n,{R:()=>s,x:()=>a});var i=t(6540);const o={},r=i.createContext(o);function s(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);